<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui">


<h:head>
    <title>agregame.py</title>
    <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
<style>
	.ui-widget-content, .ui-messages-info-detail{
		font-size: 9px !important;
	}
	.ui-column-title{
		font-size: 9px !important;
		text-align: left;
		font-weight: bold;
	}	
	.ui-button-text{
		font-size: 9px !important;
	}
</style>
</h:head>

<h:body>
<p:panel >
	<f:facet name="header" >
    	agregame.py
    </f:facet>
</p:panel>
<h1>Contactos</h1>

<h:form>
		<h:outputLabel for="search" value="Ingrese texto a buscar: " style="font-weight:bold"/>
		<p:inputText id="search" value="#{vistaAcciones.search}" label="search" autocomplete="off"/>
		<p:commandLink id="btnBuscar" value="BUSCAR" type="button" action="#{vistaAcciones.filtrarContactos()}" 
		style="padding: .3em 1em;" styleClass="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-button-text ui-c"/>
		
</h:form>

<p:separator style=" background-color:white;border-color:white;height:25px" />

<p:commandLink id="btnCrear" value="AGREGAR NUEVO CONTACTO" type="button" action="#{vistaAcciones.crearContacto()}" 
		style="padding: .3em 1em;" styleClass="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-button-text ui-c"/>

<p:separator style=" background-color:white;border-color:white;height:25px" />

<p:dataTable id="tablaContactos" var="contacto" value="#{vistaAcciones.contactos}" paginator="true" rows="10">
    
    <p:column headerText="ID">
        <h:outputText value="#{contacto.id}" />
    </p:column>
 
    <p:column headerText="Nombre">
        <h:outputText value="#{contacto.nombre}" />
    </p:column>
 
   <p:column headerText="Apellido">
        <h:outputText value="#{contacto.apellido}" />
    </p:column>
    
    <p:column headerText="Alias">
        <h:outputText value="#{contacto.alias}" />
    </p:column>
    
    <p:column headerText="Teléfono">
        <h:outputText value="#{contacto.telefono}" />
    </p:column>
    
    <p:column headerText="Email">
        <h:outputText value="#{contacto.email}" />
    </p:column>
    
    <p:column headerText="Dirección">
        <h:outputText value="#{contacto.direccion}" />
    </p:column>
    
    <p:column headerText="Fecha de Creación">
        <h:outputText value="#{contacto.fechacreacion}" />
    </p:column>
    
    <p:column headerText="Fecha de Modificación">
        <h:outputText value="#{contacto.fechamodificacion}" />
    </p:column>

	<p:column headerText="Acciones">
			<p:commandLink id="btnVer" value="VER" type="button" action="#{vistaAcciones.verContacto()}"
			style="padding: .3em 1em;" styleClass="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-button-text ui-c">
				<f:setPropertyActionListener value="#{contacto}" target="#{vistaAcciones.contactoSeleccionado}" />
			</p:commandLink>
			
			<p:commandLink id="btnEditar" value="EDITAR" type="button" action="#{vistaAcciones.editarContacto()}"
			style="padding: .3em 1em;" styleClass="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-button-text ui-c">
				<f:setPropertyActionListener value="#{contacto}" target="#{vistaAcciones.contactoSeleccionado}" />
			</p:commandLink>
			
			<p:commandLink id="btnBorrar" value="BORRAR" type="button" action="#{vistaAcciones.borrarContacto()}" update="tablaContactos"
			style="padding: .3em 1em;" styleClass="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-button-text ui-c">
				<f:setPropertyActionListener value="#{contacto}" target="#{vistaAcciones.contactoSeleccionado}" />
				<p:confirm header="Confirmación" message="¿Está seguro de elminar el contacto?" icon="ui-icon-alert" />
			</p:commandLink>
 
    		<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
        		<p:commandButton value="Sí" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
        		<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
    		</p:confirmDialog>
			
	</p:column>
</p:dataTable>

</h:body>

</html>